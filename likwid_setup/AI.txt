SHORT Memory bandwidth in MBytes/s for High Bandwidth Memory (HBM) and FLOPS

EVENTSET
FIXC0 INSTR_RETIRED_ANY
FIXC1 CPU_CLK_UNHALTED_CORE
FIXC2 CPU_CLK_UNHALTED_REF
PMC0  UOPS_RETIRED_SCALAR_SIMD
PMC1  UOPS_RETIRED_PACKED_SIMD
EDBOX0C0 EDC_RPQ_INSERTS
EDBOX1C0 EDC_RPQ_INSERTS
EDBOX2C0 EDC_RPQ_INSERTS
EDBOX3C0 EDC_RPQ_INSERTS
EDBOX4C0 EDC_RPQ_INSERTS
EDBOX5C0 EDC_RPQ_INSERTS
EDBOX6C0 EDC_RPQ_INSERTS
EDBOX7C0 EDC_RPQ_INSERTS
EDBOX0C1 EDC_WPQ_INSERTS
EDBOX1C1 EDC_WPQ_INSERTS
EDBOX2C1 EDC_WPQ_INSERTS
EDBOX3C1 EDC_WPQ_INSERTS
EDBOX4C1 EDC_WPQ_INSERTS
EDBOX5C1 EDC_WPQ_INSERTS
EDBOX6C1 EDC_WPQ_INSERTS
EDBOX7C1 EDC_WPQ_INSERTS
MBOX0C0 MC_CAS_READS
MBOX0C1 MC_CAS_WRITES
MBOX1C0 MC_CAS_READS
MBOX1C1 MC_CAS_WRITES
MBOX2C0 MC_CAS_READS
MBOX2C1 MC_CAS_WRITES
MBOX3C0 MC_CAS_READS
MBOX3C1 MC_CAS_WRITES
MBOX4C0 MC_CAS_READS
MBOX4C1 MC_CAS_WRITES
MBOX5C0 MC_CAS_READS
MBOX5C1 MC_CAS_WRITES
MBOX6C0 MC_CAS_READS
MBOX6C1 MC_CAS_WRITES
MBOX7C0 MC_CAS_READS
MBOX7C1 MC_CAS_WRITES

METRICS
Runtime (RDTSC) [s] time
Runtime unhalted [s] FIXC1*inverseClock
Clock [MHz]  1.E-06*(FIXC1/FIXC2)/inverseClock
CPI  FIXC1/FIXC0
Memory data volume [MBytes] 1.0E-06*(EDBOX0C0+EDBOX1C0+EDBOX2C0+EDBOX3C0+EDBOX4C0+EDBOX5C0+EDBOX6C0+EDBOX7C0+EDBOX0C1+EDBOX1C1+EDBOX2C1+EDBOX3C1+EDBOX4C1+EDBOX5C1+EDBOX6C1+EDBOX7C1+MBOX0C0+MBOX1C0+MBOX2C0+MBOX3C0+MBOX4C0+MBOX5C0+MBOX6C0+MBOX7C0+MBOX0C1+MBOX1C1+MBOX2C1+MBOX3C1+MBOX4C1+MBOX5C1+MBOX6C1+MBOX7C1)*64.0
MFLOP (SP AVX512 FMA assumed) 1.0E-06*(PMC1*32.0+PMC0)

LONG
Formulas:
Memory read bandwidth [MBytes/s] = 1.0E-06*(sum(EDC_RPQ_INSERTS))*64/time
Memory read data volume [GBytes] = 1.0E-09*(sum(EDC_RPQ_INSERTS))*64
Memory writeback bandwidth [MBytes/s] = 1.0E-06*(sum(EDC_WPQ_INSERTS))*64/time
Memory writeback data volume [GBytes] = 1.0E-09*(sum(EDC_WPQ_INSERTS))*64
Memory bandwidth [MBytes/s] = 1.0E-06*(sum(EDC_RPQ_INSERTS)+sum(EDC_WPQ_INSERTS))*64/time
Memory data volume [GBytes] = 1.0E-09*(sum(EDC_RPQ_INSERTS)+sum(EDC_WPQ_INSERTS))*64
-
Profiling group to measure data transfers from and to the high bandwidth memory (HBM).

